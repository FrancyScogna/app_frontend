{"ast":null,"code":"/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';\n\nvar link = require('@lexical/link');\nvar LexicalComposerContext = require('@lexical/react/LexicalComposerContext');\nvar utils = require('@lexical/utils');\nvar lexical = require('lexical');\nvar react = require('react');\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nfunction LinkPlugin({\n  validateUrl\n}) {\n  const [editor] = LexicalComposerContext.useLexicalComposerContext();\n  react.useEffect(() => {\n    if (!editor.hasNodes([link.LinkNode])) {\n      throw new Error('LinkPlugin: LinkNode not registered on editor');\n    }\n    return utils.mergeRegister(editor.registerCommand(link.TOGGLE_LINK_COMMAND, payload => {\n      if (payload === null) {\n        link.toggleLink(payload);\n        return true;\n      } else if (typeof payload === 'string') {\n        if (validateUrl === undefined || validateUrl(payload)) {\n          link.toggleLink(payload);\n          return true;\n        }\n        return false;\n      } else {\n        const {\n          url,\n          target,\n          rel,\n          title\n        } = payload;\n        link.toggleLink(url, {\n          rel,\n          target,\n          title\n        });\n        return true;\n      }\n    }, lexical.COMMAND_PRIORITY_LOW), validateUrl !== undefined ? editor.registerCommand(lexical.PASTE_COMMAND, event => {\n      const selection = lexical.$getSelection();\n      if (!lexical.$isRangeSelection(selection) || selection.isCollapsed() || !(event instanceof ClipboardEvent) || event.clipboardData == null) {\n        return false;\n      }\n      const clipboardText = event.clipboardData.getData('text');\n      if (!validateUrl(clipboardText)) {\n        return false;\n      } // If we select nodes that are elements then avoid applying the link.\n\n      if (!selection.getNodes().some(node => lexical.$isElementNode(node))) {\n        editor.dispatchCommand(link.TOGGLE_LINK_COMMAND, clipboardText);\n        event.preventDefault();\n        return true;\n      }\n      return false;\n    }, lexical.COMMAND_PRIORITY_LOW) : () => {// Don't paste arbritrary text as a link when there's no validate function\n    });\n  }, [editor, validateUrl]);\n  return null;\n}\nexports.LinkPlugin = LinkPlugin;","map":{"version":3,"names":["link","require","LexicalComposerContext","utils","lexical","react","LinkPlugin","validateUrl","editor","useLexicalComposerContext","useEffect","hasNodes","LinkNode","Error","mergeRegister","registerCommand","TOGGLE_LINK_COMMAND","payload","toggleLink","undefined","url","target","rel","title","COMMAND_PRIORITY_LOW","PASTE_COMMAND","event","selection","$getSelection","$isRangeSelection","isCollapsed","ClipboardEvent","clipboardData","clipboardText","getData","getNodes","some","node","$isElementNode","dispatchCommand","preventDefault","exports"],"sources":["C:/Users/franc/Desktop/Progetto/Frontend/app_frontend/node_modules/@lexical/react/LexicalLinkPlugin.dev.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';\n\nvar link = require('@lexical/link');\nvar LexicalComposerContext = require('@lexical/react/LexicalComposerContext');\nvar utils = require('@lexical/utils');\nvar lexical = require('lexical');\nvar react = require('react');\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nfunction LinkPlugin({\n  validateUrl\n}) {\n  const [editor] = LexicalComposerContext.useLexicalComposerContext();\n  react.useEffect(() => {\n    if (!editor.hasNodes([link.LinkNode])) {\n      throw new Error('LinkPlugin: LinkNode not registered on editor');\n    }\n\n    return utils.mergeRegister(editor.registerCommand(link.TOGGLE_LINK_COMMAND, payload => {\n      if (payload === null) {\n        link.toggleLink(payload);\n        return true;\n      } else if (typeof payload === 'string') {\n        if (validateUrl === undefined || validateUrl(payload)) {\n          link.toggleLink(payload);\n          return true;\n        }\n\n        return false;\n      } else {\n        const {\n          url,\n          target,\n          rel,\n          title\n        } = payload;\n        link.toggleLink(url, {\n          rel,\n          target,\n          title\n        });\n        return true;\n      }\n    }, lexical.COMMAND_PRIORITY_LOW), validateUrl !== undefined ? editor.registerCommand(lexical.PASTE_COMMAND, event => {\n      const selection = lexical.$getSelection();\n\n      if (!lexical.$isRangeSelection(selection) || selection.isCollapsed() || !(event instanceof ClipboardEvent) || event.clipboardData == null) {\n        return false;\n      }\n\n      const clipboardText = event.clipboardData.getData('text');\n\n      if (!validateUrl(clipboardText)) {\n        return false;\n      } // If we select nodes that are elements then avoid applying the link.\n\n\n      if (!selection.getNodes().some(node => lexical.$isElementNode(node))) {\n        editor.dispatchCommand(link.TOGGLE_LINK_COMMAND, clipboardText);\n        event.preventDefault();\n        return true;\n      }\n\n      return false;\n    }, lexical.COMMAND_PRIORITY_LOW) : () => {// Don't paste arbritrary text as a link when there's no validate function\n    });\n  }, [editor, validateUrl]);\n  return null;\n}\n\nexports.LinkPlugin = LinkPlugin;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}